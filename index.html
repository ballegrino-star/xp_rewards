<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Class XP 3D Dashboard</title>

  <!-- Load Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Load Model Viewer -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <style>
    body {
      margin: 0;
      display: flex;
      height: 100vh;
      font-family: "Inter", sans-serif;
      background: #111827;
      color: white;
      overflow: hidden;
    }

    /* Left panel – Student list */
    #studentList {
      width: 300px;
      background: #1f2937;
      padding: 20px;
      overflow-y: auto;
      border-right: 2px solid #374151;
    }

    .student-pill {
      background: #374151;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.25s;
      display: flex;
      align-items: center;
    }

    .student-pill:hover {
      background: #4b5563;
      transform: translateX(4px);
    }

    .student-name {
      font-size: 16px;
      font-weight: 600;
    }

    /* Main area */
    #mainPanel {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      padding: 20px;
      overflow-y: auto;
    }

    /* 3D avatar window */
    #avatarContainer {
      width: 100%;
      height: 400px;
      background: #000000;
      border-radius: 15px;
      overflow: hidden;
      margin-bottom: 20px;
    }

    model-viewer {
      width: 100%;
      height: 100%;
      background-color: #000;
    }

    /* Info card */
    #infoCard {
      background: #1f2937;
      padding: 20px;
      border-radius: 15px;
      line-height: 1.6;
    }

    .label {
      font-weight: 600;
      color: #93c5fd;
    }
  </style>
</head>

<body>

  <!-- LEFT SIDE: STUDENT LIST -->
  <div id="studentList"></div>

  <!-- RIGHT SIDE: MAIN PANEL -->
  <div id="mainPanel">

    <!-- 3D AVATAR VIEWER -->
    <div id="avatarContainer">
      <model-viewer id="avatarViewer"
        src=""
        alt="Student Avatar"
        camera-controls
        auto-rotate
        rotation-per-second="30deg"
        environment-image="neutral"
        exposure="1"
        shadow-intensity="1">
      </model-viewer>
    </div>

    <!-- INFO PANEL -->
    <div id="infoCard">
      <h2 id="infoName">Select a student</h2>
      <p><span class="label">Tier:</span> <span id="infoTier">—</span></p>
      <p><span class="label">XP:</span> <span id="infoXP">—</span></p>
      <p><span class="label">PA Avg:</span> <span id="infoPA">—</span></p>
      <p><span class="label">Notes:</span> <span id="infoNotes">—</span></p>
    </div>

  </div>

  <script>
    /* ---------------------------------------------
       STUDENT DATA — PUT YOUR READY PLAYER ME LINKS HERE
       --------------------------------------------- */

    const students = [
      {
        name: "Test Student",
        tier: "Unranked",
        xp: 0,
        paAvg: 0,
        notes: "Ready Player Me avatar test.",
        modelPath: "https://models.readyplayer.me/691cc0bc132e61458c2ac4f2.glb",
        avatar2d: "https://models.readyplayer.me/691cc0bc132e61458c2ac4f2.png"
      }
    ];

    /* ---------------------------------------------
       RENDER STUDENT LIST
       --------------------------------------------- */

    function renderStudentList() {
      const list = document.getElementById("studentList");
      list.innerHTML = "";

      students.forEach((student, index) => {
        const el = document.createElement("div");
        el.className = "student-pill";

        // Avatar icon if available
        if (student.avatar2d) {
          const img = document.createElement("img");
          img.src = student.avatar2d;
          img.style.width = "28px";
          img.style.height = "28px";
          img.style.borderRadius = "50%";
          img.style.objectFit = "cover";
          img.style.marginRight = "10px";
          el.appendChild(img);
        }

        const nameSpan = document.createElement("span");
        nameSpan.className = "student-name";
        nameSpan.textContent = student.name;

        el.appendChild(nameSpan);
        el.onclick = () => loadStudent(index);
        list.appendChild(el);
      });
    }

    /* ---------------------------------------------
       LOAD STUDENT INTO VIEWER + INFO PANEL
       --------------------------------------------- */

    function loadStudent(i) {
      const s = students[i];

      // 3D Avatar
      const viewer = document.getElementById("avatarViewer");
      viewer.src = s.modelPath;

      // Info panel
      document.getElementById("infoName").textContent = s.name;
      document.getElementById("infoTier").textContent = s.tier;
      document.getElementById("infoXP").textContent = s.xp;
      document.getElementById("infoPA").textContent = s.paAvg;
      document.getElementById("infoNotes").textContent = s.notes;
    }

    // Initialize the list
    renderStudentList();
  </script>
</body>
</html>
